**Лабораторная работа №8**

**Текстовый редактор vi**

Беличева Д.М.; НКНбд-01-21

**Содержание**

[**1 Цель работы](#_page3_x74.41_y70.16) **4 [2 Задание](#_page4_x74.41_y70.16) 5 [3 Теоретическое введение](#_page5_x74.41_y70.16) 6 [4 Выполнение лабораторной работы](#_page6_x74.41_y70.16) 7 [5 Выводы](#_page17_x74.41_y70.16) 18 [6 Контрольные вопросы](#_page18_x74.41_y70.16) 19 [Список литературы](#_page21_x74.41_y70.16) 22**

**Список иллюстраций**

1. [Текстовый редактор vi . ](#_page6_x74.41_y285.85). . . . . . . . . . . . . . . . . . . . . . . 7
1. [Текстовый редактор vi . ](#_page6_x74.41_y493.78). . . . . . . . . . . . . . . . . . . . . . . 7
1. [Выполнение необходимых команд в терминале . . ](#_page7_x74.41_y132.07). . . . . . . . 8
1. [Файл hello.sh в текстовом редакторе vi . . ](#_page7_x74.41_y340.00). . . . . . . . . . . . . 8
1. [Написание текста в vi .](#_page8_x74.41_y59.32) . . . . . . . . . . . . . . . . . . . . . . . 9
1. [Выход из редактора с сохранением текста . .](#_page9_x74.41_y59.32) . . . . . . . . . . . 10
1. [Команда chmod . ](#_page10_x74.41_y59.32). . . . . . . . . . . . . . . . . . . . . . . . . . . 11
1. [Файл hello.sh .](#_page11_x74.41_y59.32) . . . . . . . . . . . . . . . . . . . . . . . . . . . . 12
1. [Редактор vi ](#_page12_x74.41_y59.32). . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13
1. [Изменение текста .](#_page13_x74.41_y59.32) . . . . . . . . . . . . . . . . . . . . . . . . . 14
1. [Удаление последней строки . ](#_page15_x74.41_y59.32). . . . . . . . . . . . . . . . . . . . 16
1. [Команда отмены . ](#_page16_x74.41_y59.32). . . . . . . . . . . . . . . . . . . . . . . . . . 17

<a name="_page3_x74.41_y70.16"></a>**1 Цель работы**

Познакомиться с операционной системой Linux.Получить практические навы- ки работы с редактором vi,установленным по умолчанию практически во всех дистрибутивах.

<a name="_page4_x74.41_y70.16"></a>**2 Задание**

Последовательность выполнения работы 1.Ознакомиться с теоретическим ма- териалом.2.Ознакомиться с редактором vi.3.Выполнитьупражнения,используя команды vi.

Задание 1.Создание нового файла с использованием vi.1.Создайте каталог с именем ~/work/os/lab06.2.Перейдите во вновь созданный каталог.3.Вызовите vi и создайте файл hello.sh. 4. Нажмите клавишу i и вводите следующий текст. 5. Нажмите клавишу Esc для перехода в командный режим после завершения ввода текста.6.Нажмите : для перехода в режим последней строки и внизу ва- шего экрана появится приглашение в виде двоеточия.7.Нажмите w (записать) и q (выйти), а затем нажмите клавишу Enter для сохранения вашего текста и завершения работы.8.Сделайте файл исполняемым

Задание 2.Редактирование существующего файла 1.Вызовите vi на редактиро- вание файла (vi ~/work/os/lab06/hello.sh) 2.Установите курсор в конец слова HELL второй строки. 3. Перейдите в режим вставки и замените на HELLO. Нажмите Esc для возврата в командный режим.4.Установите курсор на четвертую строку и сотрите слово LOCAL. 5. Перейдите в режим вставки и наберите следующий текст: local,нажмите Esc для возврата в командный режим.6.Установите курсор на последней строке файла.Вставьте после неё строку,содержащую следующий текст: echo $HELLO.7.Нажмите Esc для перехода в командный режим.8.Удалите последнюю строку. 9. Введите команду отмены изменений u для отмены по- следней команды.10.Введите символ : для перехода в режим последней строки. Запишите произведённые изменения и выйдите из vi.

<a name="_page5_x74.41_y70.16"></a>**3 Теоретическое введение**

ВбольшинстведистрибутивовLinuxвкачестветекстовогоредакторапоумолча- нию устанавливается интерактивный экранный редактор vi (Visual display editor). Редактор vi имееттри режима работы:-командный режим—предназначен для ввода команд редактирования и навигации по редактируемому файлу;-режим вставки—предназначен для ввода содержания редактируемого файла;-режим последней(иликомандной)строки—используетсядлязаписиизмененийвфайл и выхода из редактора.Для вызова редактора vi необходимо указатькоманду vi и имя редактируемого файла: vi При этом в случае отсутствия файла с указанным именем будет создан такой файл.Переход в командный режим осуществляется нажатиемклавишиEsc.Длявыходаизредактораviнеобходимоперейтиврежим последней строки: находясь в командном режиме,нажать Shift-; (по сути символ :—двоеточие),затем:-набрать символы wq,если перед выходом из редактора требуется записатьизменения в файл;-набратьсимвол q (или q!),еслитребуется выйти из редактора без сохранения.[1]

<a name="_page6_x74.41_y70.16"></a>**4 Выполнение лабораторной работы**

Последовательность выполнения работы 1. Ознакомиться с теоретическим материалом.2.Ознакомиться с редактором vi.(рис.4.1,[4.2) ](#_page6_x74.41_y285.85)[3.Выпо](#_page6_x74.41_y493.78)лнить упраж- нения,используя команды vi.

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.001.png)

<a name="_page6_x74.41_y285.85"></a>Рис. 4.1: Текстовый редактор vi

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.002.png)

<a name="_page6_x74.41_y493.78"></a>Рис. 4.2: Текстовый редактор vi

Задание 1.Создание нового файла с использованием vi.1.Создайте каталог с именем ~/work/os/lab06.2.Перейдите во вновь созданный каталог.3.Вызовите vi и создайте файл hello.sh.(рис.4.3,[4.4)](#_page7_x74.41_y132.07)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.003.png)

<a name="_page7_x74.41_y132.07"></a>Рис. 4.3: Выполнение необходимых команд в терминале

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.004.png)

<a name="_page7_x74.41_y340.00"></a>Рис. 4.4: Файл hello.sh в текстовом редакторе vi

4. Нажмите клавишу i и вводите следующий текст.(рис.4.5)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.005.png)

<a name="_page8_x74.41_y59.32"></a>Рис. 4.5: Написание текста в vi

5. Нажмите клавишу Esc для перехода в командный режим после завершения ввода текста.
5. Нажмите : для перехода в режим последней строки и внизу вашего экрана появится приглашение в виде двоеточия.
5. Нажмите w (записать) и q (выйти), а затем нажмите клавишу Enter для сохранения вашего текста и завершения работы.(рис.4.6)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.006.png)

<a name="_page9_x74.41_y59.32"></a>Рис. 4.6: Выход из редактора с сохранением текста

8. Сделайте файл исполняемым (рис.4.7,[4.8)](#_page10_x74.41_y59.32)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.007.png)

<a name="_page10_x74.41_y59.32"></a>Рис. 4.7: Команда chmod

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.008.png)

<a name="_page11_x74.41_y59.32"></a>Рис. 4.8: Файл hello.sh

Задание 2.Редактирование существующего файла 1.Вызовите vi на редактиро- вание файла (vi ~/work/os/lab06/hello.sh) 2.Установите курсор в конец слова HELL второй строки.3.Перейдите в режим вставки и замените на HELLO.Нажмите Esc для возврата в командный режим.(рис.4.9)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.009.png)

<a name="_page12_x74.41_y59.32"></a>Рис. 4.9: Редактор vi

4. Установите курсор на четвертую строку и сотрите слово LOCAL.
4. Перейдите в режим вставки и наберите следующий текст: local,нажмите Esc для возврата в командный режим.(рис.4.10)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.010.png)

<a name="_page13_x74.41_y59.32"></a>Рис. 4.10: Изменение текста

6. Установитекурсорнапоследнейстрокефайла.Вставьтепосленеёстроку,со-

держащуюследующийтекст:echo$HELLO.(рис. **??**)![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.011.png)

7. Нажмите Esc для перехода в командный режим.
7. Удалите последнюю строку.(рис.[4.11)](#_page15_x74.41_y59.32)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.012.png)

<a name="_page15_x74.41_y59.32"></a>Рис. 4.11: Удаление последней строки

9. Введите команду отмены изменений u для отмены последней команды. (рис.[4.12)](#_page16_x74.41_y59.32)

![](Aspose.Words.2f7ae5a8-4279-4ebf-9070-871257420a57.013.png)

<a name="_page16_x74.41_y59.32"></a>Рис. 4.12: Команда отмены

10. Введите символ : для перехода в режим последней строки.Запишите про- изведённые изменения и выйдите из vi.

<a name="_page17_x74.41_y70.16"></a>**5 Выводы**

В процессе выполнения лабораторной работы я познакомилась с операцион- ной системой Linux. Получила практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах.

<a name="_page18_x74.41_y70.16"></a>**6 Контрольные вопросы**

1. Дайте краткую характеристику режимам работы редактора vi.
- командный режим — предназначен для ввода команд редактирования и навигации по редактируемому файлу;
- режим вставки — предназначен для ввода содержания редактируемого файла;
- режим последней (или командной) строки—используется для записи из- менений в файл и выхода из редактора.
2. Как выйти из редактора,не сохраняя произведённые изменения?

Можно нажимать символ q (или q!), если требуется выйти из редактора без сохранения.

3. Назовите и дайте краткую характеристику командам позиционирования.
- 0 (ноль)—переход в начало строки;
- $—переход в конец строки;
- G—переход в конец файла;
- n G—переход на строку с номером n.
4. Что для редактора vi является словом?

Редактор vi предполагает, что слово - это строка символов, которая может включать в себя буквы,цифры и символы подчеркивания.

5. Каким образом из любого места редактируемого файла перейти в начало (конец) файла?

С помощью G—переход в конец файла

6. Назовите и дайте краткую характеристику основным группам команд ре- дактирования.
- Вставка текста– а —вставитьтекст после курсора;–А—вставитьтекст в конец строки;–i—вставитьтекст перед курсором;–n i—вставитьтекст n раз;–I—вставитьтекст в начало строки.
- Вставка строки–о—вставить строку под курсором;–О—вставить строку над курсором.
- Удаление текста–x—удалить один символ в буфер;–d w—удалить одно слово в буфер;–d $—удалить в буфер текст от курсора до конца строки;– d 0—удалить в буфер текст от начала строки до позиции курсора;–d d— удалить в буфер одну строку;–n d d—удалить в буфер n строк.
- Отмена и повтор произведённых изменений – u — отменить последнее изменение;–.—повторить последнее изменение.
- Копирование текста в буфер – Y — скопировать строку в буфер; – n Y — скопировать n строк в буфер;–y w—скопировать слово в буфер.
- Вставка текста из буфера–p—вставитьтекст из буфера после курсора;–P —вставитьтекст из буфера перед курсором.
- Замена текста – c w — заменить слово; – n c w — заменить n слов; – c $ — заменить текст от курсора до конца строки; – r — заменить слово; – R — заменитьтекст.
- Поисктекста–/текст—произвести поиск вперёд потексту указанной стро- ки символов текст;–? текст—произвести поиск назад по тексту указанной строки символов текст.
7. Необходимо заполнить строку символами $.Каковы ваши действия?

Перейти в режим вставки.

8. Как отменить некорректное действие,связанное с процессом редактирова- ния?

С помощью u—отменить последнее изменение

9. Назовите и дайте характеристику основным группам команд режима по- следней строки.

Режим последней строки—используется для записи изменений в файл и вы- хода из редактора.

10. Как определить,не перемещая курсора,позицию,в которой заканчивается строка?

$—переход в конец строки

11. Выполнитеанализопцийредактораvi(сколькоих,какузнатьихназначение и т.д.).

Опции редактора vi позволяют настроить рабочую среду.Для задания опций используется команда set (в режиме последней строки): – : set all — вывести полный список опций;–: set nu—вывести номера строк;–: set list—вывести невидимые символы;–: set ic—не учитывать при поиске,является ли символ прописным или строчным.

12. Как определить режим работы редактора vi?

В редакторе vi естьдва основных режима: командный режим и режим встав- ки.По умолчанию работа начинается в командном режиме.В режиме вставки клавиатура используется для набора текста. Для выхода в командный режим используется клавиша Esc или комбинация Ctrl + c.

<a name="_page21_x74.41_y70.16"></a>**Список литературы**

1\. Лабораторная работа № 8. Текстовой редактор vi [Электронный ресурс]. URL:[ https://esystem.rudn.ru/.](https://esystem.rudn.ru/)
22
